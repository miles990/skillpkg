---
name: debug-helper
version: 1.0.0
description: é™¤éŒ¯è¼”åŠ©ï¼ŒåŒ…è£ PAL MCP çš„ debug åŠŸèƒ½ï¼Œæä¾›ç³»çµ±åŒ–å•é¡Œè¨ºæ–·
author: miles990
tags:
  - debugging
  - troubleshooting
  - diagnosis
  - error-handling
dependencies:
  mcp:
    - package: "pal-mcp-server"
      required: true
      note: "ä½¿ç”¨ pal.debug é€²è¡Œè¨ºæ–·"
interface:
  input:
    - name: error
      type: object
      description: "éŒ¯èª¤è³‡è¨Šï¼ˆè¨Šæ¯ã€å †ç–Šã€ä¸Šä¸‹æ–‡ï¼‰"
      required: true
    - name: context
      type: object
      description: "ç›¸é—œä¸Šä¸‹æ–‡ï¼ˆç¨‹å¼ç¢¼ã€ç’°å¢ƒï¼‰"
      required: false
  output:
    - name: diagnosis
      type: object
      description: "è¨ºæ–·çµæœ"
    - name: solution
      type: object
      description: "è§£æ±ºæ–¹æ¡ˆ"
    - name: next_action
      type: string
      description: "å»ºè­°çš„ä¸‹ä¸€æ­¥"
triggers:
  - pattern: "åŸ·è¡Œå¤±æ•—"
    description: "ä»»å‹™åŸ·è¡Œå¤±æ•—æ™‚"
  - pattern: "æ¸¬è©¦å¤±æ•—"
    description: "æ¸¬è©¦æœªé€šéæ™‚"
  - pattern: "éŒ¯èª¤è¨Šæ¯"
    description: "å‡ºç¾éŒ¯èª¤è¨Šæ¯æ™‚"
---

# Debug Helper

> æ”¶é›†éŒ¯èª¤ â†’ åˆ†æåŸå›  â†’ è¨ºæ–·å•é¡Œ â†’ æå‡ºè§£æ³•

## æ ¸å¿ƒç†å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸é‡è¤‡é€ è¼ªå­ï¼Œç›´æ¥ä½¿ç”¨ PAL MCP çš„å°ˆæ¥­è¨ºæ–·èƒ½åŠ›                  â”‚
â”‚                                                                 â”‚
â”‚  æœ¬ Skill è·è²¬ï¼š                                                â”‚
â”‚  â€¢ æ”¶é›†éŒ¯èª¤è³‡è¨Šå’Œä¸Šä¸‹æ–‡                                         â”‚
â”‚  â€¢ èª¿ç”¨ PAL debug é€²è¡Œè¨ºæ–·                                      â”‚
â”‚  â€¢ æ•´ç†è¨ºæ–·çµæœ                                                 â”‚
â”‚  â€¢ èˆ‡ smart-learning-loop å”ä½œï¼ˆå¤±æ•—æ™‚å­¸ç¿’ï¼‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä½¿ç”¨æ–¹å¼

### èª¿ç”¨ PAL debug

```javascript
await mcp__pal__debug({
  step: "è¨ºæ–·ç™»å…¥å¤±æ•—å•é¡Œ",
  step_number: 1,
  total_steps: 2,
  next_step_required: true,
  findings: "åˆå§‹è¨ºæ–·",
  hypothesis: "å¯èƒ½æ˜¯ token éæœŸ",
  relevant_files: [
    "/path/to/auth.js"
  ],
  model: "gemini-2.5-pro"
})
```

## å¤±æ•—é¡å‹åˆ†é¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤±æ•—é¡å‹                è™•ç†æ–¹å¼                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¡å‹ A: çŸ¥è­˜ç¼ºå£        â†’ smart-learning-loop                  â”‚
â”‚  â”œâ”€ ç—‡ç‹€ï¼šä¸çŸ¥é“æ€éº¼åš                                          â”‚
â”‚  â””â”€ è™•æ–¹ï¼šæœå°‹æŠ€èƒ½ â†’ å®‰è£ â†’ å­¸ç¿’                                â”‚
â”‚                                                                 â”‚
â”‚  é¡å‹ B: åŸ·è¡ŒéŒ¯èª¤        â†’ é‡æ–°æª¢æŸ¥ç¨‹å¼ç¢¼                        â”‚
â”‚  â”œâ”€ ç—‡ç‹€ï¼šèªæ³•éŒ¯èª¤ã€åƒæ•¸éŒ¯èª¤                                    â”‚
â”‚  â””â”€ è™•æ–¹ï¼šä»”ç´°æª¢æŸ¥ï¼Œä¿®æ­£éŒ¯èª¤                                    â”‚
â”‚                                                                 â”‚
â”‚  é¡å‹ C: ç’°å¢ƒå•é¡Œ        â†’ ä¿®å¾©ç’°å¢ƒ                              â”‚
â”‚  â”œâ”€ ç—‡ç‹€ï¼šä¾è³´ç¼ºå¤±ã€ç‰ˆæœ¬ä¸ç¬¦                                    â”‚
â”‚  â””â”€ è™•æ–¹ï¼šå®‰è£ä¾è³´ã€åˆ‡æ›ç‰ˆæœ¬                                    â”‚
â”‚                                                                 â”‚
â”‚  é¡å‹ D: ç­–ç•¥éŒ¯èª¤        â†’ åˆ‡æ›ç­–ç•¥                              â”‚
â”‚  â”œâ”€ ç—‡ç‹€ï¼šæ–¹æ³•ä¸é©åˆç•¶å‰æƒ…å¢ƒ                                    â”‚
â”‚  â””â”€ è™•æ–¹ï¼šå¾ç­–ç•¥æ± é¸æ“‡å…¶ä»–æ–¹æ¡ˆ                                  â”‚
â”‚                                                                 â”‚
â”‚  é¡å‹ E: è³‡æºé™åˆ¶        â†’ å„ªåŒ–æˆ–æ›æ–¹æ¡ˆ                          â”‚
â”‚  â”œâ”€ ç—‡ç‹€ï¼šè¨˜æ†¶é«”ä¸è¶³ã€API é™åˆ¶                                  â”‚
â”‚  â””â”€ è™•æ–¹ï¼šå„ªåŒ–è³‡æºä½¿ç”¨ã€åˆ†æ‰¹è™•ç†                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è¨ºæ–·æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. æ”¶é›†è³‡è¨Š                                                    â”‚
â”‚     â†’ éŒ¯èª¤è¨Šæ¯ã€å †ç–Šè¿½è¹¤ã€ç›¸é—œç¨‹å¼ç¢¼                            â”‚
â”‚                                                                 â”‚
â”‚  2. åˆ†é¡å¤±æ•—é¡å‹                                                â”‚
â”‚     â†’ æ˜¯çŸ¥è­˜ç¼ºå£ï¼ŸåŸ·è¡ŒéŒ¯èª¤ï¼Ÿç’°å¢ƒå•é¡Œï¼Ÿ                          â”‚
â”‚                                                                 â”‚
â”‚  3. èª¿ç”¨ PAL debug                                              â”‚
â”‚     â†’ æ·±åº¦è¨ºæ–·å•é¡Œæ ¹å›                                           â”‚
â”‚                                                                 â”‚
â”‚  4. æå‡ºå‡è¨­                                                    â”‚
â”‚     â†’ æ ¹æ“šç—‡ç‹€æ¨æ¸¬åŸå›                                           â”‚
â”‚                                                                 â”‚
â”‚  5. é©—è­‰å‡è¨­                                                    â”‚
â”‚     â†’ æ¸¬è©¦å‡è¨­æ˜¯å¦æ­£ç¢º                                          â”‚
â”‚                                                                 â”‚
â”‚  6. æå‡ºè§£æ³•                                                    â”‚
â”‚     â†’ å…·é«”çš„ä¿®æ­£æ­¥é©Ÿ                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è¼¸å‡ºæ ¼å¼

```yaml
diagnosis:
  error_type: "åŸ·è¡ŒéŒ¯èª¤"
  category: "B"

  symptoms:
    - "TypeError: Cannot read property 'map' of undefined"
    - "ç™¼ç”Ÿåœ¨ UserList.jsx:42"

  hypothesis: "users è³‡æ–™åœ¨æ¸²æŸ“æ™‚é‚„æ²’è¼‰å…¥å®Œæˆ"
  confidence: "high"

  root_cause:
    file: "UserList.jsx"
    line: 42
    issue: "æœªè™•ç† loading ç‹€æ…‹"

solution:
  steps:
    - "åŠ å…¥ loading ç‹€æ…‹æª¢æŸ¥"
    - "åœ¨è³‡æ–™è¼‰å…¥å‰é¡¯ç¤º loading UI"

  code_fix: |
    if (loading) return <Loading />;
    if (!users) return null;
    return users.map(...)

  prevention:
    - "ä½¿ç”¨ TypeScript ç¢ºä¿å‹åˆ¥å®‰å…¨"
    - "åŠ å…¥å–®å…ƒæ¸¬è©¦è¦†è“‹ loading ç‹€æ…‹"

next_action: "å¥—ç”¨ä¿®æ­£ä¸¦é‡æ–°æ¸¬è©¦"
```

## æœ€å°ç¯„ä¾‹

```markdown
éŒ¯èª¤ï¼šTypeError: Cannot read property 'map' of undefined

AI åŸ·è¡Œ debug-helperï¼š

1. æ”¶é›†è³‡è¨Šï¼š
   - éŒ¯èª¤è¨Šæ¯ï¼šCannot read property 'map'
   - ä½ç½®ï¼šUserList.jsx:42
   - ç¨‹å¼ç¢¼ï¼šusers.map(...)

2. åˆ†é¡ï¼šé¡å‹ Bï¼ˆåŸ·è¡ŒéŒ¯èª¤ï¼‰

3. èª¿ç”¨ PAL debug

4. è¨ºæ–·çµæœï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” Debug è¨ºæ–·                                      â”‚
â”‚                                                     â”‚
â”‚  å•é¡Œï¼šusers åœ¨æ¸²æŸ“æ™‚ç‚º undefined                   â”‚
â”‚  åŸå› ï¼šéåŒæ­¥è³‡æ–™æœªè¼‰å…¥å®Œæˆå°±å˜—è©¦æ¸²æŸ“               â”‚
â”‚  ä¿¡å¿ƒåº¦ï¼šé«˜                                         â”‚
â”‚                                                     â”‚
â”‚  è§£æ³•ï¼š                                             â”‚
â”‚  1. åŠ å…¥ loading ç‹€æ…‹æª¢æŸ¥                           â”‚
â”‚  2. è™•ç† undefined æƒ…æ³                             â”‚
â”‚                                                     â”‚
â”‚  ä¿®æ­£ç¨‹å¼ç¢¼ï¼š                                       â”‚
â”‚  if (!users) return <Loading />;                    â”‚
â”‚  return users.map(...)                              â”‚
â”‚                                                     â”‚
â”‚  é é˜²æªæ–½ï¼š                                         â”‚
â”‚  â€¢ ä½¿ç”¨ TypeScript                                  â”‚
â”‚  â€¢ åŠ å…¥ loading ç‹€æ…‹æ¸¬è©¦                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¦æˆ‘å¹«æ‚¨å¥—ç”¨é€™å€‹ä¿®æ­£å—ï¼Ÿ
```

## èˆ‡å…¶ä»– Skill çš„å”ä½œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤±æ•—è™•ç†æµç¨‹                                                   â”‚
â”‚                                                                 â”‚
â”‚  [åŸ·è¡Œå¤±æ•—] â†’ [debug-helper] â†’ è¨ºæ–·                            â”‚
â”‚                     â”‚                                           â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚        â†“            â†“            â†“                              â”‚
â”‚    é¡å‹ A        é¡å‹ B-E      ç„¡æ³•è§£æ±º                          â”‚
â”‚        â†“            â†“            â†“                              â”‚
â”‚  [smart-learning]  ä¿®æ­£        è©¢å•ç”¨æˆ¶                          â”‚
â”‚        â†“            â†“                                           â”‚
â”‚    å­¸ç¿’æŠ€èƒ½      é‡æ–°åŸ·è¡Œ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## èˆ‡ smart-learning-loop æ•´åˆ

ç•¶è¨ºæ–·çµæœæ˜¯ã€ŒçŸ¥è­˜ç¼ºå£ã€æ™‚ï¼š

```javascript
// è¨ºæ–·çµæœ
if (diagnosis.category === 'A') {
  // è§¸ç™¼å­¸ç¿’è¿´åœˆ
  await smartLearningLoop({
    task: currentTask,
    gap: diagnosis.root_cause.skill_needed
  });
}
```

## è¨­è¨ˆåŸå‰‡

1. **ä¸é‡è¤‡é€ è¼ªå­** - ç›´æ¥ä½¿ç”¨ PAL debug çš„èƒ½åŠ›
2. **ç³»çµ±åŒ–è¨ºæ–·** - æœ‰æ­¥é©Ÿã€æœ‰åˆ†é¡
3. **å‡è¨­é©…å‹•** - å…ˆå‡è¨­å†é©—è­‰
4. **è¨˜éŒ„ç¶“é©—** - è¨ºæ–·çµæœè¨˜éŒ„åˆ° Cipher
5. **å”ä½œæ•´åˆ** - èˆ‡å…¶ä»– Skill é…åˆ

## é™åˆ¶èˆ‡é‚Šç•Œ

- ä¾è³´ PAL MCP çš„å¯ç”¨æ€§
- è¨ºæ–·å“è³ªå–æ±ºæ–¼éŒ¯èª¤è³‡è¨Šçš„å®Œæ•´åº¦
- è¤‡é›œå•é¡Œå¯èƒ½éœ€è¦å¤šè¼ªè¨ºæ–·
- ç„¡æ³•è™•ç†æ‰€æœ‰é¡å‹çš„å•é¡Œ
