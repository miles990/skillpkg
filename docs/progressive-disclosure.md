# Skill Progressive Disclosure (æ¼¸é€²å¼æ­ç¤º)

> æ ¹æ“šä»»å‹™éœ€æ±‚ï¼Œé€å±¤è¼‰å…¥ Skill å…§å®¹ï¼Œå„ªåŒ– Token ä½¿ç”¨æ•ˆç‡

## æ¦‚å¿µ

å‚³çµ±çš„ `load_skill` æœƒè¼‰å…¥å®Œæ•´çš„ Skill å…§å®¹ï¼Œä½†å¾ˆå¤šæ™‚å€™åªéœ€è¦éƒ¨åˆ†çŸ¥è­˜ã€‚æ¼¸é€²å¼æ­ç¤ºè®“ AI Agent å¯ä»¥ï¼š

1. **æŒ‰éœ€è¼‰å…¥** - åªè¼‰å…¥ç•¶å‰ä»»å‹™éœ€è¦çš„éƒ¨åˆ†
2. **ç¯€çœ Token** - æ¸›å°‘ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡ä½”ç”¨
3. **æé«˜æ•ˆç‡** - å¿«é€Ÿå–å¾—é—œéµè³‡è¨Š

## Layer çµæ§‹

æ¯å€‹ Skill å¯ä»¥å®šç¾©å¤šå€‹ Layerï¼š

```yaml
# SKILL.md frontmatter
---
name: python-expert
version: 1.0.0
layers:
  core:
    description: "æ ¸å¿ƒæ¦‚å¿µå’Œå¿«é€Ÿåƒè€ƒ"
    sections: ["## Quick Reference", "## Core Concepts"]
  detailed:
    description: "è©³ç´°èªªæ˜å’Œæœ€ä½³å¯¦è¸"
    sections: ["## Best Practices", "## Common Patterns"]
  examples:
    description: "ç¨‹å¼ç¢¼ç¯„ä¾‹"
    sections: ["## Examples", "## Code Snippets"]
  advanced:
    description: "é€²éšæŠ€å·§å’Œé‚Šç•Œæƒ…æ³"
    sections: ["## Advanced", "## Edge Cases"]
  troubleshooting:
    description: "é™¤éŒ¯å’Œå•é¡Œè§£æ±º"
    sections: ["## Troubleshooting", "## Common Errors"]
---
```

## é è¨­ Layer é †åº

å¦‚æœ Skill æ²’æœ‰å®šç¾© layersï¼Œä½¿ç”¨æ™ºèƒ½åˆ†å‰²ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer è‡ªå‹•åµæ¸¬                                                 â”‚
â”‚                                                                 â”‚
â”‚  core (å„ªå…ˆè¼‰å…¥):                                               â”‚
â”‚  â€¢ # é–‹é ­çš„ç¬¬ä¸€å€‹æ¨™é¡Œ + æ‘˜è¦                                    â”‚
â”‚  â€¢ ## Quick Reference / ## å¿«é€Ÿåƒè€ƒ                             â”‚
â”‚  â€¢ ## Overview / ## æ¦‚è¿°                                        â”‚
â”‚  â€¢ ## Core / ## æ ¸å¿ƒ                                            â”‚
â”‚                                                                 â”‚
â”‚  detailed (è©³ç´°å…§å®¹):                                           â”‚
â”‚  â€¢ å…¶ä»– ## æ¨™é¡Œçš„å…§å®¹                                           â”‚
â”‚  â€¢ æ’é™¤ examples å’Œ troubleshooting ç›¸é—œ                        â”‚
â”‚                                                                 â”‚
â”‚  examples (ç¯„ä¾‹):                                               â”‚
â”‚  â€¢ ## Examples / ## ç¯„ä¾‹                                        â”‚
â”‚  â€¢ åŒ…å« ``` ç¨‹å¼ç¢¼å€å¡Šçš„æ®µè½                                    â”‚
â”‚                                                                 â”‚
â”‚  troubleshooting (é™¤éŒ¯):                                        â”‚
â”‚  â€¢ ## Troubleshooting / ## é™¤éŒ¯                                 â”‚
â”‚  â€¢ ## Common Errors / ## å¸¸è¦‹éŒ¯èª¤                               â”‚
â”‚  â€¢ ## FAQ                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä½¿ç”¨æ–¹å¼

### MCP Tool: load_skill with layer

```typescript
// åªè¼‰å…¥æ ¸å¿ƒå…§å®¹
load_skill({
  id: "python-expert",
  layer: "core"  // æ–°å¢åƒæ•¸
})

// è¼‰å…¥å¤šå€‹ layers
load_skill({
  id: "python-expert",
  layers: ["core", "examples"]
})

// è¼‰å…¥å…¨éƒ¨ï¼ˆé è¨­è¡Œç‚ºï¼‰
load_skill({
  id: "python-expert"
  // layer æœªæŒ‡å®š = è¼‰å…¥å…¨éƒ¨
})
```

### å›æ‡‰æ ¼å¼

```markdown
# python-expert (Layer: core)

## Quick Reference
...

## Core Concepts
...

---
ğŸ“š å…¶ä»–å¯ç”¨ layers: detailed, examples, advanced, troubleshooting
ä½¿ç”¨ `load_skill({ id: "python-expert", layer: "examples" })` è¼‰å…¥æ›´å¤šå…§å®¹
```

## æ™ºèƒ½ Layer é¸æ“‡

Agent å¯ä»¥æ ¹æ“šä»»å‹™è‡ªå‹•é¸æ“‡é©ç•¶çš„ layerï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»»å‹™é¡å‹ â†’ å»ºè­° Layer                                          â”‚
â”‚                                                                 â”‚
â”‚  ã€Œå¿«é€ŸæŸ¥ä¸€ä¸‹ X æ€éº¼ç”¨ã€                                        â”‚
â”‚  â†’ layer: core                                                  â”‚
â”‚                                                                 â”‚
â”‚  ã€Œå¹«æˆ‘å¯«ä¸€å€‹ X åŠŸèƒ½ã€                                          â”‚
â”‚  â†’ layers: [core, examples]                                     â”‚
â”‚                                                                 â”‚
â”‚  ã€Œé€™å€‹ X éŒ¯èª¤æ€éº¼è§£æ±ºã€                                        â”‚
â”‚  â†’ layers: [core, troubleshooting]                              â”‚
â”‚                                                                 â”‚
â”‚  ã€Œæ·±å…¥å­¸ç¿’ Xã€                                                 â”‚
â”‚  â†’ layers: [core, detailed, advanced]                           â”‚
â”‚                                                                 â”‚
â”‚  ã€Œå®Œæ•´äº†è§£ Xã€                                                 â”‚
â”‚  â†’ ä¸æŒ‡å®š layerï¼ˆè¼‰å…¥å…¨éƒ¨ï¼‰                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## èˆ‡ self-evolving-agent æ•´åˆ

åœ¨ Phase 1.5 èƒ½åŠ›è©•ä¼°æ™‚ï¼Œä½¿ç”¨æ™ºèƒ½ layer é¸æ“‡ï¼š

```markdown
èƒ½åŠ›è©•ä¼°æµç¨‹ï¼ˆæ›´æ–°ç‰ˆï¼‰ï¼š

1. è­˜åˆ¥éœ€è¦çš„ skills
   recommend_skill({ query: "ä»»å‹™æè¿°" })

2. å¿«é€Ÿè©•ä¼°ï¼ˆåƒ…è¼‰å…¥ coreï¼‰
   load_skill({ id: "skill-name", layer: "core" })
   â†’ åˆ¤æ–·æ˜¯å¦éœ€è¦é€™å€‹ skill
   â†’ åˆ¤æ–·æ˜¯å¦éœ€è¦æ›´å¤šè³‡è¨Š

3. æŒ‰éœ€æ·±å…¥
   å¦‚æœéœ€è¦ç¯„ä¾‹ â†’ load_skill({ id: "skill-name", layer: "examples" })
   å¦‚æœé‡åˆ°å•é¡Œ â†’ load_skill({ id: "skill-name", layer: "troubleshooting" })
```

## Token ç¯€çœä¼°è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer è¼‰å…¥ Token ä¼°è¨ˆ                           â”‚
â”‚                                                   â”‚
â”‚  å®Œæ•´ Skill (å¹³å‡):          ~3000-5000 tokens   â”‚
â”‚                                                   â”‚
â”‚  åªè¼‰å…¥ core:                ~500-800 tokens     â”‚
â”‚  åªè¼‰å…¥ core + examples:     ~1000-1500 tokens   â”‚
â”‚  åªè¼‰å…¥ troubleshooting:     ~300-500 tokens     â”‚
â”‚                                                   â”‚
â”‚  ç¯€çœç‡ï¼š60-85%                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¯¦ä½œå»ºè­°

### SKILL.md ä½œè€…æŒ‡å—

1. **æ˜ç¢ºå®šç¾© layers**ï¼ˆå¦‚æœé©ç”¨ï¼‰
2. **å°‡æœ€é‡è¦çš„è³‡è¨Šæ”¾åœ¨é–‹é ­**
3. **ä½¿ç”¨æ¨™æº–æ¨™é¡Œå‘½å**ï¼š
   - Quick Reference / å¿«é€Ÿåƒè€ƒ
   - Core Concepts / æ ¸å¿ƒæ¦‚å¿µ
   - Examples / ç¯„ä¾‹
   - Best Practices / æœ€ä½³å¯¦è¸
   - Troubleshooting / é™¤éŒ¯
   - Advanced / é€²éš

### AI Agent ä½¿ç”¨æŒ‡å—

1. **å…ˆè¼‰å…¥ core** - å¿«é€Ÿç²å–æ¦‚è¦½
2. **æŒ‰éœ€è¼‰å…¥å…¶ä»– layers** - é¿å…ä¸€æ¬¡è¼‰å…¥å¤ªå¤š
3. **é‡åˆ°å•é¡Œæ™‚è¼‰å…¥ troubleshooting** - é‡å°æ€§è§£æ±º
4. **è¤‡é›œä»»å‹™å†è¼‰å…¥å…¨éƒ¨** - ç¢ºä¿å®Œæ•´ç†è§£

## ç›¸é—œ

- [MCP Tool Usage Guide](mcp-tool-usage-guide.md)
- [Dynamic Skill Recommendation](../../claude-starter-kit/docs/dynamic-skill-recommendation.md)
